# Installation and Usage Guide

This guide provides step-by-step instructions to set up and run the project.

## Prerequisites

1. Ensure you have Python installed (version specified in `pyproject.toml`).
2. Install `poetry` for dependency management:
   ```sh
   pip install poetry
   ```
3. Install project dependencies:
   ```sh
   poetry install
   ```

## Steps to Run

### 1. Data Generation/Collection
   - If a `.tar.gz` file (e.g., `azure_terraform_dataset.tar.gz`) is present along with the corresponding metadata (e.g., `prdataset.json`), you can skip this step.
   - Otherwise, generate or collect the required data by running:
     ```sh
     python src/data_generation.py --config gen_config.yml
     ```
   - This will create the necessary dataset and metadata files in the appropriate directory.

### 2. PR Replay
   - Replay the generated or collected data to prepare it for evaluation:
     ```sh
     python src/prreplay.py --config replay_config.yml
     ```

### 3. Evaluation
   - Run the evaluation process on the replayed data:
     ```sh
     python src/eval.py --config eval_config.yml
     ```

## Additional Notes

- Configuration files such as `.env.example` and `lambda-env.json.example` may need to be customized for your environment. Copy and rename them as `.env` and `lambda-env.json`, respectively, and update the values as needed.
- Refer to [alfred-config.md](../alfred-config.md) for detailed configuration options.

## Troubleshooting

- If you encounter issues, ensure all dependencies are installed and the environment variables are correctly set.
- Logs for data generation and replay can be found in `generation.log` y.

## Example Commands

Hereâ€™s an example of running all steps end-to-end:
```sh
# Step 1: Data Generation (if needed)
python src/data_generation.py

# Step 2: Replay
python src/replay.py --input outshift-alfred-eval/azzure_terraform_dataset.tar.gz --output outshift-alfred-eval/replay_output

# Step 3: Evaluation
python src/eval.py --input outshift-alfred-eval/replay_output --output outshift-alfred-eval/eval_results
```